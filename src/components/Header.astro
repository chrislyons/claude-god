---
import { getGuideList } from '../config/guides';
import ThemeToggle from './ThemeToggle.astro';

interface Props {
  title?: string;
  currentGuideId?: string;
}

const {
  title = 'Claude CLI Architecture Guide',
  currentGuideId
} = Astro.props;

const guides = getGuideList();
const base = import.meta.env.BASE_URL;
---

<header class="fixed top-0 left-sidebar right-0 h-header flex items-center justify-between px-8 z-[100] transition-all theme-bg theme-border-bottom">
  <h1 class="font-display text-xl font-bold theme-text">
    {title}
  </h1>
  <div class="flex items-center gap-8">
    <nav class="flex gap-4 text-sm items-center">
      {guides.map((guide, index) => (
        <>
          <a
            href={base + guide.route.slice(1)}
            class:list={[
              "hover:text-primary-accent transition-colors flex items-center gap-1.5 theme-text",
              { "font-semibold": currentGuideId === guide.id }
            ]}
            style="opacity: 0.8;"
          >
            {guide.title}
          </a>
          {index < guides.length - 1 && <span style="opacity: 0.3;">|</span>}
        </>
      ))}
    </nav>
    <ThemeToggle />
  </div>
</header>
