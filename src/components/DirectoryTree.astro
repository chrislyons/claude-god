---
interface Props {
  content: string;
}

const { content } = Astro.props;

// Process content to highlight comments
function processTree(text: string): string {
  // Replace comment patterns (text after # with span)
  return text.replace(
    /(.*?)(#.*)/g,
    '$1<span class="tree-comment">$2</span>'
  );
}

const processedContent = processTree(content);
---

<div class="tree bg-code-bg-light dark:bg-code-bg-dark p-6 rounded-lg my-6 font-code text-sm leading-relaxed overflow-x-auto">
  <pre class="!bg-transparent !p-0 !m-0"><code set:html={processedContent} /></pre>
</div>

<style>
  .tree-comment {
    color: theme('colors.success');
    opacity: 0.8;
  }
</style>
