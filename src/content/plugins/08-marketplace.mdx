---
title: "Marketplace"
section: 8
description: "Finding, evaluating, and building plugins"
---

import Callout from '../../components/Callout.astro';

## Plugin Marketplace

Discover plugins, evaluate their usefulness, and learn how to build your own custom extensions.

---

## Official Marketplace

**Installation:** Use `/plugin` command in the Claude Code REPL

```bash
claude
/plugin install <plugin-name>@marketplace
```

### Available Plugin Categories

**LSP Servers (Language Intelligence):**
- `pyright-lsp` - Python type checking and code intelligence
- `typescript-lsp` - TypeScript/JavaScript language support
- `rust-lsp` - Rust language server integration

**MCP Servers (External Integrations):**
- GitHub - Issue tracking, PR management, repository operations
- Sentry - Error monitoring and debugging
- PostgreSQL - Database query and schema operations
- And many more community-contributed servers

**Custom Plugins:**
- Browse via `/plugin` interface
- Search GitHub for `claude-code-plugin` topic
- Check Claude Code documentation for featured plugins

<Callout type="info">
**Built-in Features:** Claude Code ships with powerful built-in agents (Plan, Explore, General-purpose), 40+ slash commands, and a skills system. Many workflows don't require additional plugins!
</Callout>

---

## Installing Plugins

### From Marketplace

```bash
# In the REPL
/plugin install pyright-lsp@marketplace
/plugin install typescript-lsp@marketplace
```

### From GitHub

```bash
/plugin install github:username/plugin-repo
```

### From Local Path (Development)

```bash
/plugin install file:/path/to/plugin
```

### From Git URL

```bash
/plugin install git:https://github.com/user/plugin.git
```

### From NPM

```bash
/plugin install npm:package-name
```

---

## Evaluating Plugins

Before installing a plugin, consider:

### 1. Does It Solve a Real Problem?

- Does it automate something you do repeatedly?
- Does it prevent mistakes you've made?
- Does it provide integration with external tools you need?
- Could you solve it with custom commands/skills instead?

### 2. What's the Performance Impact?

**Lower Overhead:**
- LSP servers (passive, only active when editing specific languages)
- Commands (only run when invoked)
- Conditional hooks (only trigger on specific events)

**Higher Overhead:**
- SessionStart hooks (run every session startup)
- Always-active skills (loaded in every context)
- Heavy MCP servers (continuous connections)

<Callout type="warning">
**Token Budget:** SessionStart hooks and auto-invoked skills add context overhead. Use them when the value justifies the cost.
</Callout>

### 3. Is It Compatible?

**Check for conflicts:**
- Multiple plugins providing same commands
- Overlapping hook functionality
- Duplicate MCP server connections

**Verify compatibility:**
```bash
# In the REPL
/plugin list  # See what's already installed
```

### 4. Is It Maintained?

For community plugins:
- Check last commit date
- Review open issues/PRs
- Verify active maintenance
- Read documentation quality

---

## Building Custom Components

### Custom Commands (Easiest)

**When to use:** Frequent workflows, team-specific operations

**Create:** `.claude/commands/my-command.md`

```markdown
---
description: Brief description
allowed-tools: Bash, Read
---

Instructions for Claude...

!bash command to run
```

**Result:** `/my-command` available in REPL

### Custom Skills (Auto-invoked)

**When to use:** Recurring patterns, auto-triggered assistance

**Create:** `.claude/skills/skill-name/SKILL.md`

```markdown
---
name: skill-name
description: When to auto-invoke this skill
allowed-tools: Read, Edit
---

Instructions for Claude when skill is activated...
```

**Result:** Claude auto-invokes when request matches description

### Custom Agents (Specialized)

**When to use:** Complex multi-step workflows, specialized expertise

**Create:** `.claude/agents/agent-name.md`

```markdown
---
name: agent-name
description: What this agent does
tools: Read, Grep, Bash
model: sonnet
---

You are a specialized agent for...
```

**Result:** Available via `/agents` interface

### Custom Hooks (Lifecycle Events)

**When to use:** Enforcement, validation, automation on specific events

**Create:** `.claude/hooks/hooks.json`

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash(git push:*)",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'validation script'",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
```

**Result:** Hook runs before matched tool executions

<Callout type="success">
**Start Simple:** Try custom commands and skills first. They're easier to create and maintain than full plugins.
</Callout>

---

## Building Full Plugins

### When to Build a Plugin

**Good reasons:**
- Distributing to team or community
- Combining multiple components (commands + skills + agents + hooks)
- Packaging with dependencies and scripts
- Need version management and updates

**Alternatives (simpler):**
- Single command → Custom command file
- Single skill → Custom skill directory
- Team sharing → Commit `.claude/` directory to repo
- Personal use → User-level `.claude/` directory

### Plugin Structure

**Minimum structure:**

```
my-plugin/
├── .claude-plugin/
│   └── plugin.json         # Required: Plugin manifest
├── commands/               # Optional: Slash commands
│   └── example.md
├── skills/                 # Optional: Auto-invoked skills
│   └── skill-name/
│       └── SKILL.md
├── agents/                 # Optional: Specialized agents
│   └── agent-name.md
├── hooks/                  # Optional: Lifecycle hooks
│   └── hooks.json
├── .mcp.json              # Optional: MCP server config
├── .lsp.json              # Optional: LSP server config
└── README.md              # Required: Documentation
```

### Plugin Manifest (plugin.json)

**Required fields:**

```json
{
  "name": "my-plugin"
}
```

**Complete schema:**

```json
{
  "name": "my-plugin",
  "version": "1.0.0",
  "description": "Brief description",
  "author": {
    "name": "Your Name",
    "email": "you@example.com"
  },
  "homepage": "https://docs.example.com",
  "repository": "https://github.com/user/plugin",
  "license": "MIT",
  "keywords": ["keyword1", "keyword2"],

  "commands": "./commands/",
  "agents": "./agents/",
  "skills": "./skills/",
  "hooks": "./hooks/hooks.json",
  "mcpServers": "./.mcp.json",
  "lspServers": "./.lsp.json"
}
```

**Key rules:**
- All paths relative to plugin root
- `.claude-plugin/` contains ONLY `plugin.json`
- Component directories at plugin root
- Use `${CLAUDE_PLUGIN_ROOT}` for script references

<Callout type="info">
**Component Paths:** Paths supplement default directories. Claude loads both plugin components and user/project components.
</Callout>

---

## Testing Your Plugin

### Local Testing

**Install from local path:**

```bash
claude
/plugin install file:~/dev/my-plugin
```

**Verify components loaded:**

```bash
/help  # Check if commands appear
/agents  # Check if agents appear
```

**Test functionality:**

```bash
/my-command  # Test command
# Trigger skill via request
# Check hook behavior
```

### Debug Mode

```bash
claude --debug plugin
```

Shows plugin loading, component registration, and hook execution.

---

## Publishing Plugins

### Team Distribution (Private)

**Option 1: Git Repository**

```bash
# Team members install via:
/plugin install git:https://github.com/company/internal-plugin.git
```

**Option 2: Custom Marketplace**

Configure in `settings.json`:

```json
{
  "extraKnownMarketplaces": {
    "team-marketplace": {
      "source": {
        "source": "github",
        "repo": "company/plugins"
      }
    }
  }
}
```

Team members install via:

```bash
/plugin install plugin-name@team-marketplace
```

### Public Distribution (Community)

**Steps:**
1. Create comprehensive README with examples
2. Add tests and documentation
3. Ensure security (no hardcoded credentials)
4. Submit to community channels
5. Maintain and respond to issues

**Distribution methods:**
- GitHub repository (most common)
- NPM package
- Official marketplace (if accepted)

---

## Integration with MCP and LSP

### MCP Servers vs Plugins

**MCP Servers:**
- Provide external tools and data to Claude
- Run as separate processes
- Connect to APIs, databases, services
- Use Model Context Protocol

**Plugins:**
- Extend Claude Code behavior
- Add commands, skills, agents, hooks
- Can include MCP server configurations
- Distributed as packages

**They work together:**

```
Plugin
  ├── Custom command
  ├── Custom skill
  └── MCP server config
       └── Exposes external API to Claude
```

### LSP Servers in Plugins

Plugins can bundle LSP server configurations:

**.lsp.json in plugin:**

```json
{
  "mylanguage": {
    "command": "${CLAUDE_PLUGIN_ROOT}/bin/language-server",
    "args": ["--stdio"],
    "extensionToLanguage": {
      "mylang": "mylanguage"
    }
  }
}
```

When plugin is installed, LSP server is automatically available.

---

## Real-World Plugin Examples

### Example 1: Code Review Plugin

**Components:**
- Skill: Auto-invoked after code changes
- Agent: Specialized review agent
- Command: Manual review trigger

**Structure:**
```
code-review-plugin/
├── .claude-plugin/plugin.json
├── skills/code-review/SKILL.md
├── agents/reviewer.md
└── commands/review.md
```

### Example 2: Team Standards Plugin

**Components:**
- Hooks: Enforce naming conventions
- Commands: Generate compliant files
- Skills: Auto-check standards

**Structure:**
```
team-standards/
├── .claude-plugin/plugin.json
├── hooks/hooks.json
├── commands/generate-doc.md
└── skills/standards-check/SKILL.md
```

### Example 3: Database Integration Plugin

**Components:**
- MCP server: PostgreSQL connection
- Commands: Query shortcuts
- Skills: Schema analysis

**Structure:**
```
db-plugin/
├── .claude-plugin/plugin.json
├── .mcp.json
├── commands/query.md
└── skills/schema-analyzer/SKILL.md
```

---

## Plugin Maintenance

### Updating Installed Plugins

```bash
/plugin update <plugin-name>
```

### Disabling Temporarily

**In settings.json:**

```json
{
  "enabledPlugins": {
    "plugin-name": false
  }
}
```

### Uninstalling

```bash
/plugin uninstall <plugin-name>
```

<Callout type="info">
**Disable First:** Try disabling plugins before uninstalling. Helps determine if you actually need them.
</Callout>

---

## Next Steps

**Explore the marketplace:**
- Use `/plugin` interface in REPL
- Search GitHub for `claude-code-plugin`
- Check Claude Code documentation

**Start small:**
1. Create a custom command for a frequent workflow
2. Add a skill for recurring patterns
3. Build a custom agent for specialized tasks
4. Combine into a plugin if sharing with team

**Share with community:**
- Open source your useful plugins
- Contribute to existing plugins
- Help others in discussions

<Callout type="success">
**You're Ready!** You understand the plugin system, know how to evaluate and install plugins, and can build custom components or full plugins for your needs.
</Callout>
